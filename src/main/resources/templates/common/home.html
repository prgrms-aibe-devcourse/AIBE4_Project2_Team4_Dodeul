<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout/base}">

<head>
  <title>DODEUL | í™ˆ</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>

  <style>
    :root {
      --color-primary: #0d6efd;
      --color-bg-light: #f8f9fa;
    }

    /* 1. íˆì–´ë¡œ ì„¹ì…˜ */
    .hero-section {
      background-color: #fff;
      padding: 80px 0;
      overflow: hidden;
    }

    .hero-title {
      font-size: 2.5rem;
      font-weight: 800;
      line-height: 1.3;
      margin-bottom: 20px;
      color: #333;
      word-break: keep-all;
    }

    .hero-desc {
      font-size: 1.1rem;
      color: #666;
      margin-bottom: 30px;
      line-height: 1.6;
      word-break: keep-all;
    }

    /* [ìˆ˜ì •] hero-image-container ìŠ¤íƒ€ì¼ ì‚­ì œ */

    /* [ìˆ˜ì •] ì´ë¯¸ì§€ ìì²´ ìŠ¤íƒ€ì¼ */
    .hero-image {
      width: 100%;
      max-width: 500px; /* ë„ˆë¬´ ì»¤ì§€ì§€ ì•Šê²Œ ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
      height: auto;
      border-radius: 24px; /* ì»¨í…Œì´ë„ˆì˜ ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08); /* ì»¨í…Œì´ë„ˆì˜ ê·¸ë¦¼ì */
      transition: transform 0.5s ease;
      display: block; /* ê°€ìš´ë° ì •ë ¬ì„ ìœ„í•´ */
      margin: 0 auto; /* ê°€ìš´ë° ì •ë ¬ */
    }

    .hero-image:hover {
      transform: scale(1.02);
    }

    /* 2. ë©˜í†  ì¶”ì²œ ì„¹ì…˜ */
    .mentor-section {
      background-color: var(--color-bg-light);
      padding: 80px 0;
    }

    .section-title {
      font-size: 1.75rem;
      font-weight: 800;
      margin-bottom: 8px;
    }

    /* Swiper ì„¤ì • */
    .mentorSwiper {
      padding-bottom: 50px !important;
      padding-left: 10px;
      padding-right: 10px;
    }

    /* í™ˆ í™”ë©´ ì „ìš© ì¹´ë“œ ìŠ¤íƒ€ì¼ */
    .home-mentor-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      background: #fff;
      border-radius: 20px;
      overflow: hidden;
      cursor: pointer;
    }

    .home-mentor-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1) !important;
    }

    /* Swiper ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ */
    .swiper-button-next, .swiper-button-prev {
      color: var(--color-primary);
      background: rgba(255, 255, 255, 0.9);
      width: 44px;
      height: 44px;
      border-radius: 50%;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      top: 45%;
    }

    .swiper-button-next:after, .swiper-button-prev:after {
      font-size: 1.2rem;
      font-weight: bold;
    }

    .swiper-pagination-bullet-active {
      background-color: var(--color-primary);
    }

    /* ì´ë‹ˆì…œ ì•„ë°”íƒ€ ìŠ¤íƒ€ì¼ (80px ê¸°ì¤€) */
    .mentor-card-avatar--initial {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 2rem;
      text-align: center;
      line-height: 1;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      aspect-ratio: 1/1;
    }
  </style>
</head>

<body>
<section layout:fragment="content">

  <section class="hero-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 py-4">
          <span class="badge bg-primary-subtle text-primary mb-3 px-3 py-2 rounded-pill fw-bold">DODEUL BETA</span>
          <h1 class="hero-title">ì„±ì¥ìœ¼ë¡œ ì´ë„ëŠ”<br>ìµœê³ ì˜ ë©˜í† ë¥¼ ë§Œë‚˜ë³´ì„¸ìš”.</h1>
          <p class="hero-desc">í˜„ì§ ê°œë°œì, ë””ìì´ë„ˆ, PMì´ ë‹¹ì‹ ì˜ ê³ ë¯¼ì„ ë“¤ì–´ì¤ë‹ˆë‹¤.<br>ë§‰ë§‰í•œ ì·¨ì—…/ì´ì§ ì¤€ë¹„, ë‘ë“¤ê³¼ í•¨ê»˜ í•´ê²°í•˜ì„¸ìš”.</p>
          <div class="d-flex gap-3 mt-4">
            <button type="button" class="btn btn-primary btn-lg rounded-pill px-5 fw-bold shadow-sm"
                    onclick="checkAvailability()">
              ìƒë‹´ ì‹ ì²­í•˜ê¸°
            </button>
            <a href="/search/mentors" class="btn btn-outline-secondary btn-lg rounded-pill px-5 fw-bold">
              ë©˜í†  ì°¾ê¸°
            </a>
          </div>
        </div>

        <div class="col-lg-6 d-none d-lg-block text-center"><img th:src="@{/images/preview-1024x1024.png}"
                                                                 alt="DODEUL Banner"
                                                                 class="hero-image"></div>

      </div>
    </div>
  </section>

  <section class="mentor-section">
    <div class="container">
      <div class="d-flex justify-content-between align-items-end mb-4">
        <div>
          <h2 class="section-title">ğŸ”¥ ì§€ê¸ˆ ì£¼ëª©ë°›ëŠ” ë©˜í† </h2>
          <p class="text-secondary mb-0">ê²€ì¦ëœ í˜„ì§ì ë©˜í† ë“¤ì˜ ìƒìƒí•œ ì¡°ì–¸ì„ ë“¤ì–´ë³´ì„¸ìš”.</p>
        </div>
        <a href="/search/mentors" class="text-decoration-none fw-bold link-primary">
          ì „ì²´ë³´ê¸° <i class="bi bi-arrow-right"></i>
        </a>
      </div>

      <div class="swiper mentorSwiper">
        <div class="swiper-wrapper">

          <div class="swiper-slide" th:each="mentor : ${mentors}">
            <th:block th:replace="~{common/fragments/home-mentor-card :: card(${mentor})}"></th:block>
          </div>

        </div>

        <div class="swiper-pagination"></div>

        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </div>
    </div>
  </section>
</section>

<th:block layout:fragment="script">
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <script>
    function checkAvailability() {
      fetch(`/api/matchings/availability`)
        .then(response => response.json())
        .then(data => {
          if (data.code >= 200 && data.code < 300) {
            location.href = `/consulting-applications/form`;
          } else {
            if (typeof showCommonModal === 'function') {
              showCommonModal(data.message || 'í˜„ì¬ ìƒë‹´ ì‹ ì²­ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.');
            } else {
              alert(data.message || 'í˜„ì¬ ìƒë‹´ ì‹ ì²­ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.');
            }
          }
        })
        .catch(err => {
          console.error(err);
          if (typeof showCommonModal === 'function') {
            showCommonModal('ì„œë²„ í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
          } else {
            alert('ì„œë²„ í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
          }
        });
    }

    document.addEventListener('DOMContentLoaded', function () {
      const mentorSwiper = new Swiper('.mentorSwiper', {
        slidesPerView: 1,
        spaceBetween: 20,
        loop: true,
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
          dynamicBullets: true,
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        breakpoints: {
          576: {slidesPerView: 2, spaceBetween: 20},
          992: {slidesPerView: 3, spaceBetween: 24},
          1200: {slidesPerView: 4, spaceBetween: 24},
        },
      });
    });
  </script>
</th:block>
</body>
</html>
