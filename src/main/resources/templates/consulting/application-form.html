<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout/base}">

<head>
  <title>ìƒë‹´ ì‹ ì²­ì„œ ì‘ì„±</title>
  <style>
    .step-circle {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 14px;
    }

    .step-active {
      background-color: #6c757d;
      color: white;
    }

    .step-inactive {
      background-color: #f8f9fa;
      color: #adb5bd;
      border: 1px solid #dee2e6;
    }

    .btn-check:checked + .btn-outline-secondary {
      background-color: #6c757d;
      color: white;
      border-color: #6c757d;
    }
  </style>
</head>

<body>
<section layout:fragment="content">
  <div class="container py-5" style="max-width: 800px;">

    <div class="d-flex justify-content-between mb-5 px-5">
      <div class="text-center">
        <div class="step-circle step-active mx-auto mb-2">1</div>
        <small class="fw-bold">ì‹ ì²­ì„œ ì‘ì„±</small>
      </div>
      <div class="text-center opacity-50">
        <div class="step-circle step-inactive mx-auto mb-2">2</div>
        <small>ë°©ì‹ ì„ íƒ</small>
      </div>
      <div class="text-center opacity-50">
        <div class="step-circle step-inactive mx-auto mb-2">3</div>
        <small>ë©˜í† &ì‹œê°„ ì˜ˆì•½</small>
      </div>
      <div class="text-center opacity-50">
        <div class="step-circle step-inactive mx-auto mb-2">4</div>
        <small>ìƒíƒœ í™•ì¸</small>
      </div>
    </div>

    <form th:action="${formActionUrl}" th:object="${request}" method="post">
      <div class="mb-5">
        <h4 class="fw-bold mb-2">ì¹´í…Œê³ ë¦¬ ì„ íƒ</h4>
        <p class="text-muted small mb-3">ê´€ì‹¬ ìˆëŠ” ë©˜í† ë§ ë¶„ì•¼ë¥¼ 1ê°œ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
        <div class="d-flex flex-wrap gap-2">
          <th:block th:each="tag : ${consultingTags}">
            <input type="radio" class="btn-check"
                   th:field="*{consultingTag}"
                   th:value="${tag}"
                   th:id="${'tag-' + tag.name()}" autocomplete="off" required>
            <label class="btn btn-outline-secondary"
                   th:for="${'tag-' + tag.name()}"
                   th:text="${tag.description}">ì¹´í…Œê³ ë¦¬ëª…</label>
          </th:block>
        </div>
      </div>

      <div class="card bg-light border-0 mb-4">
        <div class="card-body p-4">
          <h5 class="fw-bold">AI ë¹„ì„œì™€ í•¨ê»˜ ì‘ì„±í•˜ê¸°</h5>
          <p class="text-muted small">AIê°€ ìƒë‹´ ë‚´ìš©ì„ ë¯¸ë¦¬ ì‘ì„±í•˜ëŠ” ë° ë„ì›€ì„ ë“œë¦½ë‹ˆë‹¤.</p>
          <div class="input-group mb-2">
            <span class="input-group-text bg-white border-end-0">ğŸ”</span>
            <input type="text" class="form-control border-start-0" placeholder="ê³ ë¯¼ë˜ëŠ” í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”">
          </div>
          <div class="text-center mt-2">
            <button type="button" class="btn btn-sm btn-light text-secondary">âœ¨ AIë¡œ ë‚´ìš© ìë™ ì™„ì„±</button>
          </div>
        </div>
      </div>

      <div class="mb-4">
        <label class="fw-bold mb-2">ìƒë‹´ ì œëª©</label>
        <input type="text" class="form-control p-3" th:field="*{title}"
               placeholder="ë©˜í† ë§ ìƒë‹´ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" required>
      </div>

      <div class="mb-4">
        <label class="fw-bold mb-2">ìƒë‹´ ë‚´ìš©</label>
        <textarea class="form-control p-3" th:field="*{content}" rows="6"
                  placeholder="ìƒë‹´ ë°›ê³  ì‹¶ì€ ë‚´ìš©ê³¼ ëª©í‘œë¥¼ ìƒì„¸í•˜ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”."
                  required oninput="updateCharCount(this)"></textarea>
        <div id="charCount" class="text-end text-muted small mt-1">0/1000</div>
      </div>

      <div class="mb-4">
        <label class="fw-bold mb-2">ìŠ¤í‚¬ íƒœê·¸</label>
        <input type="text" class="form-control p-3" th:field="*{techTags}"
               placeholder="ì˜ˆ: Java, React, PM (ì‰¼í‘œë¡œ êµ¬ë¶„)">
      </div>

      <div class="mb-5">
        <label class="fw-bold mb-2">ì²¨ë¶€íŒŒì¼</label>
        <input type="text" class="form-control" th:field="*{fileUrl}"
               placeholder="íŒŒì¼ URLì„ ì…ë ¥í•˜ì„¸ìš”">
      </div>

      <hr class="my-5">

      <div class="d-flex justify-content-between">
        <button type="button" class="btn btn-outline-secondary px-4 py-2" onclick="history.back()">
          < ì´ì „ ë‹¨ê³„
        </button>
        <button type="submit" class="btn btn-dark px-4 py-2">
          ë‹¤ìŒ ë‹¨ê³„ >
        </button>
      </div>
    </form>
  </div>

  <script>
    function updateCharCount(textarea) {
      const currentLength = textarea.value.length;
      document.getElementById('charCount').textContent = currentLength + '/1000';
    }
  </script>
</section>
</body>
</html>
